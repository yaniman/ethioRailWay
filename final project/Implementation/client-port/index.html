<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Ethio Railway</title>

  <!-- CSS - Includes Bootstrap -->
  <script src="bootstrap.min.js"></script>
  <link href="bootstrap/css/creative.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="css/scroll(about).css">
  <!-- Bootstrap -->
  <link type="text/css" rel="stylesheet" href="bootstrap/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="style.css">
  <link type="text/css" rel="stylesheet" href="css/main.css" />

  <link rel="stylesheet" type="text/css" href="css/style(contactus).css">
      <link rel="stylesheet" href="css/main.css" />
      <link rel="stylesheet" type="text/css" href="slider.css">


</head>

<body id="page-top" style="overflow-x: hidden;">

  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger" href="#page-top">Ethio-Railway</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
        data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto my-2 my-lg-0">
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#page-top">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#about">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#book-section">Book</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#services">Find Hotels</a>
          </li>
          <li class="nav-item">
            <a class="nav-link js-scroll-trigger" href="#contact">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Masthead -->
  <header class="masthead">
    <div class="container h-100">
      <div class="row h-100 align-items-center justify-content-center text-center">
        <div class="col-lg-10 align-self-end">
          <h1 class="text-uppercase text-white font-weight-bold">Safety is Our First Priority</h1>
          <hr class="divider my-4">
        </div>
        <div class="col-lg-8 align-self-baseline">
          <p class="text-white-75 font-weight-light mb-5">The Addis Ababaâ€“Djibouti Railway is a new standard gauge
            international railway that serves as the backbone of the new Ethiopian National Railway Network.</p>
          <a class=" btn-xl js-scroll-trigger" href="#about" id="btn">Read More</a>
        </div>
      </div>
    </div>
  </header>

  <!-- About Section -->

  <section id="about" class="about-section">
    <br><br>
    <div class="row justify-content-center">

      <div class="booking-cta">
        <h1>About Us</h1>
      </div>
    </div><br><br><br>
    <div class="container">

      <div class="row gap600">
        <div class="col-md-6 ">

          <p>Railway construction started in 1897, one year after Ethiopia preserved its independence against
            Italian imperialism at the Battle of Adwa. Prior to the construction of the railway, it took six weeks
            to travel from the coast to Addis Ababa by camel and mule caravan.</p>
          <p>Ethio-Djibouti Railway made the Ethiopian Empire more accessible to the outside world, improving its
            economic and military competitiveness. Cities grew along the railway line with the expanded
            opportunities for trade. The railway served as Ethiopia's main transport link until the 1950s, when it
            began facing competition from road transport.
          </p>
          <p>
            Originally, the railway was French-dominated and serve as a French exclave in Ethiopia. In 1909, the
            railway was nationalized in Ethiopia. <br>
            <a href="aboutus.html">Read more</a>
          </p>
        </div>
        <div class="col-md-6">

          <img src="img/train.jpg" class="img-fluid" alt="about us" style="border-radius: 25px;">

        </div>

      </div>
    </div>
    </div>
  </section>

  <!-- booking section -->

  <section id="book-section" class="banner-area relative">
    <div class="booking-section">
      <div class="overlay overlay-bg"></div>
      <div class="container">
        <div class="row fullscreen align-items-center justify-content-between">
          <div class="col-lg-6 col-md-6 banner-left">
            <h6 class="text-white">Ethiopian Railway service</h6>
            <h1 class="text-white"> Best Travel</h1>
            <p class="text-white">
              Book all Of Your Travel In One place. Whether You,re An Individual booking a travel for yourself or an
              office
              manager booking a train ticket for a group of peoples.
            </p>

          </div>
          <div class="col-lg-4 col-md-6 banner-right" style="margin-top: 85px; margin-bottom: 80px;">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
              <li class="nav-item">
                <a class="nav-link active" id="flight-tab" data-toggle="tab" href="#flight" role="tab"
                  aria-controls="flight" aria-selected="true">Find Travel</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="hotel-tab" data-toggle="tab" href="#seat" role="tab" aria-controls="seat"
                  aria-selected="false">seat</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" id="holiday-tab" data-toggle="tab" href="#user_info" role="tab"
                  aria-controls="user_info" aria-selected="false">Information</a>
              </li>
            </ul>
            <div class="tab-content" id="myTabContent">

              <div class="tab-pane fade show active" id="flight" role="tabpanel" aria-labelledby="flight-tab">
                <form class="form-wrap" name="route" method="POST" >
                  <label>Departure</label>
                  
                  <select name="departure" id="departure" class="form-group">
                    <option value="AddisAbaba">Addis Ababa</option>
                    <option value="Adama">Adama</option>
                    <option value="DireDewa">DireDewa</option>
                    <option value="Djibouti">Djibouti</option>
                  </select>
                  <br>
                  <label>Destination</label>
                  <select name="destination" id="destination" class="form-group">
                    <option value="AddisAbaba">AddisAbaba</option>
                    <option value="Adama">Adama</option>
                    <option value="DireDewa">DireDewa</option>
                    <option value="Djibouti">Djibouti</option>
                  </select>
                  <br>
                  <label>Date</label>
                  <input type="date" class="date" id="date" name="date"><br>
                  <br>
                  <input type="number" name="adult" class="form-group adult"  min=0 placeholder="adults" >
                  <input type="number" name="child" class="form-group child"  min=0 placeholder="child" >
                  <input type="number" name="infant" class="form-group infant"  min=0 placeholder="infant" ><br>

                  <!-- <a href="#seat" class=" btn-xl" id="btn" data-toggle="tab">Find seat</a> -->
                  <a class="btn-lg route" id="btn" data-toggle="tab" href="" role="tab" aria-controls="seat"
                    aria-selected="false">Find seat</a>
                </form>
              </div>
              
              <div class="tab-pane fade" id="seat" role="tabpanel" aria-labelledby="seat-tab">
                <div class="price" align="right">
                  <lable>Price</lable>
                  <input type="text" id="price" disabled>
                </div>
                   <form class="form-wrap" name="seat-select" method="POST" >
                    
                  <br>
                    <!-- seat manager -->
                  <label>Class</label>
                  <select name="seatclass" id="seatclass" class="form-group seatclass">
                    <option value="seated">Seated</option>
                    <option value="hard-sleeper">Hard-sleeper</option>
                    <option value="soft-sleeper">Soft-sleeper</option>
                  </select>
                  
                  <input type="text" name="seatno" class="form-group btnseat" placeholder="select seat" disabled> 
                          <button type="button" class="btn btn-info btn-sm selectseat" data-toggle="modal" >select</button>

                    <br>
                  <a href="#user_info" class=" btn-lg insertuser" id="btn" data-toggle="tab">Next</a>
                </form>
              </div>
              <div class="tab-pane fade" id="user_info" role="tabpanel" aria-labelledby="userinfo-tab">
                <div class="price" align="right">
                  <lable>Price</lable>
                  <input type="text" id="price_c" disabled>
                </div>
                  <form class="form-wrap" name="userinfo" method="POST" >
                  <input type="text" class="form-control" name="fullname" placeholder="Full Name"
                    onfocus="this.placeholder = ''" onblur="this.placeholder = 'Full Name '" required>
                  <input type="email" class="form-control" name="email" placeholder="email" onfocus="this.placeholder = ''"
                    onblur="this.placeholder = 'Email'" required>
                  <input type="text" class="form-control date-picker" name="phonenumber" placeholder="Phone Number"
                    onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number'" required>
                  <input type="text" class="form-control date-picker" name="age" placeholder="age"
                    onfocus="this.placeholder = ''" onblur="this.placeholder = 'age'" required>
                  <!-- make the citzenship select -->
                  <select class="form-group citizenship" name="citizenship" id="citizenship">
                    <option value="ethiopian">Ethiopian</option>
                    <option value="non-ethiopian">Not-Ethiopian</option>
                  </select>
                  <input type="text"  class="form-control" name="id" placeholder="passport or id number"
                    onfocus="this.placeholder = ''" onblur="this.placeholder = 'passport or id number'" required>
                  <br>
                  <input type="button" value="submit" class="btn-group-lg final_submit">
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- hotel Section -->




  <section id="services" class="hotel">
    <br>
    <div class="row justify-content-center">

      <div class="booking-cta">
        <h1>Hotels</h1>
      </div>
    </div>
    <br>
    <div class="slideshow-container">
    <div class="mySlides">
      <div class="hotel-section">
        <div class="row ml-lg-1 mr-1">
          <div class="col-lg-3 col-md-6 mb-sm-4">
            <div class="card border">
              <div class="front">
                <img src="img/bg/1.jpg">
              </div>
              <div class="back"><br><br><br>
                <div class="back-content">
                  <h2>Capital Hotel</h2>

                  <span>Addis Abeba</span><br>
                  <span>Ethiopia</span><br>
                  <span>phone no: 0928148147</span><br>
                 <!--  <span>youtube channel</span> -->
                  <div class="sm">
                    <a href="facebook.com"><img src="icon/facebook-f.svg" style="width: 15px; height: 15px;"></a>
                    <a href="twiter.com"><img src="icon/twitter.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/instagram.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/whatsapp.svg" style="width: 15px; height: 15px;"></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 mb-sm-4">
            <div class="card">
              <div class="front">
                <img src="img/bg/2.jpg">
              </div>
              <div class="back"><br><br><br>
                <div class="back-content">
                  <h2>Samirat Hotel</h2>
                  <span>Dire Dawa</span><br>
                  <span>Ethiopia</span><br>
                  <span>phone no: 0928148147</span><br>
                  <!-- <span>youtube channel</span> -->
                  <div class="sm">
                    <a href="facebook.com"><img src="icon/facebook-f.svg" style="width: 15px; height: 15px;"></a>
                    <a href="twiter.com"><img src="icon/twitter.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/instagram.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/whatsapp.svg" style="width: 15px; height: 15px;"></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 mb-sm-4 ">
            <div class="card">
              <div class="front">
                <img src="img/bg/3.jpg">
              </div>
              <div class="back"><br><br><br>
                <div class="back-content">
                  <h2>Les Acacias Hotel</h2>
                  <span>Djibouti</span><br>
                  <span>phone no: 0928148147</span><br>
                  <!-- <span>youtube channel</span> -->
                  <div class="sm">
                    <a href="facebook.com"><img src="icon/facebook-f.svg" style="width: 15px; height: 15px;"></a>
                    <a href="twiter.com"><img src="icon/twitter.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/instagram.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/whatsapp.svg" style="width: 15px; height: 15px;"></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 mb-sm-4">

            <div class="card">
              <div class="front">
                <img src="img/bg/4.jpg">
              </div>
              <div class="back"><br><br><br>
                <div class="back-content">
                  <h2>Capital Hotel</h2>
                  <span>Djibouti</span><br>
                  <span>Phone no: 0928148147</span>
                  <!-- <span>youtube channel</span> -->
                  <div class="sm">
                    <a href="facebook.com"><img src="icon/facebook-f.svg" style="width: 15px; height: 15px;"></a>
                    <a href="twiter.com"><img src="icon/twitter.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/instagram.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/whatsapp.svg" style="width: 15px; height: 15px;"></a>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
      </div>







      <div class="mySlides">
      <div class="hotel-section">
        <div class="row ml-lg-1 mr-1">
          <div class="col-lg-3 col-md-6 mb-sm-4">
            <div class="card border">
              <div class="front">
                <img src="img/bg/4.jpg">
              </div>
              <div class="back"><br><br><br>
                <div class="back-content">
                  <h2>Capital Hotel</h2>

                  <span>Addis </span><br>
                  <span>Ethiopia</span><br>
                  <span>phone no: 0928148147</span><br>
                  <span>youtube channel</span>
                  <div class="sm">
                    <a href="facebook.com"><img src="icon/facebook-f.svg" style="width: 15px; height: 15px;"></a>
                    <a href="twiter.com"><img src="icon/twitter.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/instagram.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/whatsapp.svg" style="width: 15px; height: 15px;"></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 mb-sm-4">
            <div class="card">
              <div class="front">
                <img src="img/bg/3.jpg">
              </div>
              <div class="back"><br><br><br>
                <div class="back-content">
                  <h2>Samirat Hotel</h2>
                  <span>Dire Dawa</span><br>
                  <span>Ethiopia</span><br>
                  <span>phone no: 0928148147</span><br>
                  <!-- <span>youtube channel</span> -->
                  <div class="sm">
                   <a href="facebook.com"><img src="icon/facebook-f.svg" style="width: 15px; height: 15px;"></a>
                    <a href="twiter.com"><img src="icon/twitter.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/instagram.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/whatsapp.svg" style="width: 15px; height: 15px;"></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 mb-sm-4 ">
            <div class="card">
              <div class="front">
                <img src="img/bg/2.jpg">
              </div>
              <div class="back"><br><br><br>
                <div class="back-content">
                  <h2>Les Acacias Hotel</h2>
                  <span>Djibouti</span><br>
                  <span>phone no: 0928148147</span><br>
                  <!-- <span>youtube channel</span> -->
                  <div class="sm">
                   <a href="facebook.com"><img src="icon/facebook-f.svg" style="width: 15px; height: 15px;"></a>
                    <a href="twiter.com"><img src="icon/twitter.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/instagram.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/whatsapp.svg" style="width: 15px; height: 15px;"></a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 mb-sm-4">

            <div class="card">
              <div class="front">
                <img src="img/bg/1.jpg">
              </div>
              <div class="back"><br><br><br>
                <div class="back-content">
                  <h2>Capital Hotel</h2>
                  <span>Djibouti</span><br>
                  <span>Phone no: 0928148147</span>
                  <!-- <span>youtube channel</span> -->
                  <div class="sm">
                    <a href="facebook.com"><img src="icon/facebook-f.svg" style="width: 15px; height: 15px;"></a>
                    <a href="twiter.com"><img src="icon/twitter.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/instagram.svg" style="width: 15px; height: 15px;"></a>
                    <a href="#"><img src="icon/whatsapp.svg" style="width: 15px; height: 15px;"></a>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
      </div>

 

    </div>
    <div style="text-align:center">
      <img src="icon/left.svg" style="width: 20px; height: 20px;" class="prev"  onclick="plusSlides(-1)">
     <label class="prev" onclick="plusSlides(-1)">Prev</label>
     <label class="next" onclick="plusSlides(1)">Next</label>
      <img src="icon/right.svg" style="width: 20px; height: 20px;" class="next" onclick="plusSlides(1)">
      </div>
<div style="text-align:center">
      <span class="click" onclick="currentSlide(1)"></span>
      <span class="click" onclick="currentSlide(2)"></span>
      <span class="click" onclick="currentSlide(3)"></span>
    </div>
  </section>
  <!-- Contact Section -->
  <section class="page-section" id="contact">

    <div class="section-center">
      <div class="container">
        <div class="row">
          <div class="col-md-6">
            <div class="booking-cta">
              <h1>Contact Us</h1>
              <p>Addis Abeba Jemo 2</p>
              <p>Dire Dawa Meleka Jebedu</p>
              <p>phone number +251 923327623</p>
              <p>Email Add : ethiorailway@gmail.com</p>
            </div>
          </div>
          <div class="col-md-6 col-md-offset-1">
            <div class="booking-form">
              <form method="POST" action="controller/comment.php">
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <input class="form-control" type="text" placeholder="Name" name="name">

                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="form-group">
                      <input class="form-control" type="email" placeholder="Email" name="email">

                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-6">
                    <div class="form-group">
                      <input class="form-control" type="tel" placeholder="phone" name="phone">

                    </div>
                  </div>
                </div>



                <div class="form-group">

                  <textarea class="form-control" rows="5" id="comment" placeholder="Comment" name="comment"></textarea>
                </div>


                <div class="form-btn">
                  <button class="submit-btn" id="btn">Send</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-light py-5">
    <div class="container">
      <div class="small text-center text-muted">Copyright &copy; 2019 - Ethiopia Mekelle</div>
    </div>
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="bootstrap/jquery/jquery/jquery.min.js"></script>
  <script src="bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Plugin JavaScript -->
  <script src="bootstrap/jquery/jquery-easing/jquery.easing.min.js"></script>
  <!--  <script src="vendor/magnific-popup/jquery.magnific-popup.min.js"></script> -->

  <!-- Custom scripts for this template -->
  <script src="bootstrap/js/creative.min.js"></script>
    <script src="slider.js"></script>

</body>

</html>
<script type="text/javascript" language="javascript">
  $(document).ready(function () {
    var destination, departure, date, seat_no=[], seatclass=[],price,newprice=[],ticketno,adult,child,infant,total,i=0;
    var fullname=[], email = [], phoneno = [], age=[], citizenship = [], id = [],route_id ,reservation_id = [],pid="",apiId="";
    price=0;
    var totalp=0;
    var check;
    $(document).on("click", ".route", function () {
      destination = document.forms["route"]["destination"].value;
      departure = document.forms["route"]["departure"].value;
      date = document.forms["route"]["date"].value;
      
      
       
      if(destination==departure)
      {
        alert("Destination and departure must differ");
        $('[href="#flight"]').tab('show');
      }
      else
      {
        $('[href="#seat"]').tab('show');
      }
      //alert(destination + " " + " " + departure + " " + " " + date);

    });
    $(document).on("change", ".seatclass", function () { 
      seatclass[i]=document.getElementById("seatclass").value;
      if(seatclass[i]=="seated")
      {
         if ((departure == "AddisAbaba" && (destination == "DireDewa" || destination == "Adama")) || (departure == "DireDewa" && (destination == "AddisAbaba" || destination == "Adama"))) {
          price = 308;
        }
        else if ((departure == "AddisAbaba" && destination == "Djibouti") || (departure == "Djibouti" && (destination == "DireDewa" || destination == "Adama" || destination == "AddisAbaba"))) {
          price = 503;
        }
        
      }
      else if(seatclass[i]=="hard-sleeper")
      {
         if ((departure == "AddisAbaba" && (destination == "DireDewa" || destination == "Adama")) || (departure == "DireDewa" && (destination == "AddisAbaba" || destination == "Adama"))) {
          price = 616;
        }
        else if ((departure == "AddisAbaba" && destination == "Djibouti") || (departure == "Djibouti" && (destination == "DireDewa" || destination == "Adama" || destination == "AddisAbaba"))) {
          price = 1003;
        }
        
      }
      else if(seatclass[i]=="soft-sleeper")
      {
         if ((departure == "AddisAbaba" && (destination == "DireDewa" || destination == "Adama")) || (departure == "DireDewa" && (destination == "AddisAbaba" || destination == "Adama"))) {
          price = 821;
        }
        else if ((departure == "AddisAbaba" && destination == "Djibouti") || (departure == "Djibouti" && (destination == "DireDewa" || destination == "Adama" || destination == "AddisAbaba"))) {
          price = 1341;
        }
        
      }

      $("#price").val(price); 
    });
    $(document).on("click", ".insertuser", function () {
      $('[href="#user_info"]').tab('show');
       seat_no[i] = document.forms["seat-select"]["seatno"].value;
      $("#price_c").val(price);

    });
     $(document).on("change", ".citizenship", function () {
        
      if(document.getElementById("citizenship").value=="ethiopian")
      {
        newprice[i]=price;
      }
      else
      {
        newprice[i]=price*2;
      }
      price=newprice[i];
      $("#price_c").val(newprice);

    });
    $(document).on("change", ".adult", function () {
      
    if(document.forms["route"]["adult"].value=="")
    {
      adult=0;
    }
    else{
      adult = parseInt(document.forms["route"]["adult"].value);
      if (document.forms["route"]["infant"].value == "") {
        infant = 0;
      }
      if (document.forms["route"]["child"].value == "") {
        child = 0;
      }
    }
      
    });
    $(document).on("change", ".child", function () {
      if(document.forms["route"]["child"].value=="")
      {
        child=0;
      }
     else
     {
        child = parseInt(document.forms["route"]["child"].value);
         if (document.forms["route"]["adult"].value == "") {
          adult = 0;
        }
        if (document.forms["route"]["infant"].value == "") {
          infant = 0;
        }
        if (document.forms["route"]["adult"].value == "") {
          adult = 0;
        }
     }
    });
    $(document).on("change", ".infant", function () {
      if(document.forms["route"]["infant"].value=="")
      {
        infant=0;
      }
      else
      {
        infant = parseInt(document.forms["route"]["infant"].value);
         if (document.forms["route"]["child"].value == "") {
          child = 0;
        }

      }
    });
    $(document).on("click", ".route", function () {
      // if(document.forms["route"]["adult"].value=="")
      // {
      //   adult=0;
      //   child = parseInt(document.forms["route"]["child"].value);
      //   infant = parseInt(document.forms["route"]["infant"].value);

      // }
      // else
      //   if (document.forms["route"]["child"].value == "") {
      //     child = 0;
      //     adult = parseInt(document.forms["route"]["adult"].value);
      //      infant = parseInt(document.forms["route"]["infant"].value);
      //   }
      //   else if (document.forms["route"]["infant"].value == "") {
      //     infant = 0;
      //     adult = parseInt(document.forms["route"]["adult"].value);
      //     child = parseInt(document.forms["route"]["child"].value);
      //   }
      
      
       total=adult+child+infant;
       for(var z=0;z<total;z++)
       {
        seatclass[z] = document.getElementById("seatclass").value;

       }
      console.log(total);
     $.ajax({
        url: "controller/routecheck.php",
        method: "POST",
        data: { destination: destination, departure: departure },
        dataType: "json",
        success: function (data) {
          route_id=data;
          ticketno="ETH"+departure.substr(0,3)+destination.substr(0,3)+date.split("-")[2]+""+date.split("-")[1]+""+Math.floor(Math.random() * 10) + "" + Math.floor(Math.random() * 10) + "" + Math.floor(Math.random() * 10) + "" + Math.floor(Math.random() * 10);
        }
      })
     if((departure=="AddisAbaba" &&  destination == "Adama")|| (departure == "Adama" && destination == "AddisAbaba") )
     {
      price=68;
     }
else if((departure == "AddisAbaba" && destination == "DireDewa")|| (departure == "DireDewa" && destination == "AddisAbaba"))
    {
      price=308;
    }
    else if ((departure == "AddisAbaba" && destination == "Elsabeh")|| (departure == "Elsabeh" && destination == "AddisAbaba")) {
       price = 459;
     }
     else if ((departure == "AddisAbaba" && destination == "Negad")|| (departure == "Negad" && destination == "AddisAbaba")) {
       price = 503;
     }
    $("#price").val(price);
    });
    $(document).on("click", ".final_submit", function () {
          newprice[i]=price;
      
      fullname[i]=document.forms["userinfo"]["fullname"].value;
      email [i]= document.forms["userinfo"]["email"].value;
      phoneno[i] = document.forms["userinfo"]["phonenumber"].value;
      age[i] = document.forms["userinfo"]["age"].value;
      citizenship[i] = document.forms["userinfo"]["citizenship"].value;
      id[i] = document.forms["userinfo"]["id"].value;
      var mydata = {routeid:route_id, date:date, seatclass:seatclass[i], seatno:seat_no[i], fullname:fullname[i], email:email[i], phoneno:phoneno[i], age:age[i], citizenship:citizenship[i], id:id[i], price:newprice[i],ticketno:ticketno,pid:pid};
       var newdata= JSON.stringify(mydata);

      $.ajax({
        url: "controller/reserve.php",
        method: "POST",
        
        data: {datas:newdata},
        dataType: "json",
        success: function (data) {
       reservation_id[i]=data.reservation_id;
       
          pid=data.payment_id;

        }
       })
       totalp=totalp+newprice[i];
       ++i;
       if(i<total)
       {
       $('[href="#seat"]').tab('show');
       }
       else
       {
      $book = confirm("Do you want to got to payment option with amount of "+totalp);
      if ($book) {
        $('#paymentmodal').modal('show');
      }
      else {
        alert("your reservation is booked you can pay later at city hall. Your reference number is " + ticketno);
      }

       }

     });
     $(document).on("click", ".availableseats", function () {
       var seat_id = $(this).attr("id");
        $('.btnseat').val(seat_id); 
        $('#seatmodal').modal('hide');
        var modalbody = document.getElementById("modalbody");
        for (var i = 1; i <= 50; i++) {
          modalbody.removeChild(document.getElementById(i));
        }
      
    });
    $(document).on("click", ".seatclose", function () {
      var modalbody = document.getElementById("modalbody");
      for (var i = 1; i <= 50; i++) {
       modalbody.removeChild(document.getElementById(i));
      }
     });
        $(document).on("click", "body", function () {
        var modalbody = document.getElementById("modalbody");
        for (var i = 1; i <= 50; i++) {
          modalbody.removeChild(document.getElementById(i));
        }
      });
       function success(data)
       {
         $('#paymentmodal').modal('hide');
         $('[href="#page-top"]').tab('show');
         alert(data);
       }
      $(document).on("click", ".epay", function () {
        check=true;
      var full=document.forms["payment"]["fullname"].value;
      var phone = document.forms["payment"]["phoneno"].value;
      var tno = document.forms["payment"]["tno"].value;
      console.log(totalp);
      
       $.ajax({
          url: "http://localhost:8080/ethioRailWay/final%20project/implementation/mypay/controller/managepay.php",
         method: "POST", 
          data: { fullname: full, phoneno:phone, t_no:tno, total:totalp },
          
          dataType: "json",
          success: function (data) {
           if(data.error)
           {

           }
           else
           { 
            if(data.amountcheck) 
            {
              check =true;    
              apiId=data.payment_id;
              alert(apiId);
              if (check) {
                //alert("payment successful " + data.payment_id); 
                $.ajax({
                  url: "controller/success.php",
                  method: "POST",
                  data: { pid: pid, apipaymentid: apiId, ticketno: ticketno },

                  dataType: "json",
                  success: success(data)
                })
              }
              else {
                alert("your reservation is booked you can pay later at city hall. Your reference number is " + ticketno);

              }
            }
            else
            {
               check=false;
            }

            // else
           }
          //  function

          }
        })
    

    });
   $(document).on("click", ".epay", function () {
    
     
   });
    $(document).on("click", ".selectseat", function () {
      $('#seatmodal').modal('show');
       
        var modalbody=document.getElementById("modalbody");
        $.ajax({
        url: "controller/seat.php",
        method: "POST",
        data: { destination:destination,departure:departure,date:date,seatclass:seatclass[i] },
        dataType:"json",
        success: function (data) {
          for (var i = 0; i < 50; i++) {
            ++i;
            var seat = document.createElement("BUTTON");
            seat.innerHTML = "seat " + i;
            seat.setAttribute("id", i );
            seat.setAttribute("class", "seats btn-sm availableseats");
            --i;
            for(var j = 0; j <50; j++)
            {
            if(data[j]==i+1)
            {

              seat.style.backgroundColor = "red";
              seat.setAttribute("class", "seats btn-sm");
              seat.setAttribute("disabled", "disabled");
              break;
            }
            
          }
            modalbody.appendChild(seat);
          }
        }
      })   
        
     });
  });
</script>






<div id="seatmodal" class="modal fade">
  <div class="modal-dialog">
    <form method="POST" id="" >
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Manage staff information</h4>
          <button type="button" class="close seatclose" data-dismiss="modal">&times;</button>

        </div>
        <div class="modal-body" id="modalbody">
         
        </div>
        <div class="modal-footer">
          <!-- <input type="submit" id="action" class="btn btn-success" value="Ok" /> -->
        </div>
      </div>

    </form>
  </div>
</div>






<!-- payment modal -->

<div id="paymentmodal" class="modal fade">
  <div class="modal-dialog">
    <form name="payment" >
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Manage staff information</h4>
          <button type="button" class="close seatclose" data-dismiss="modal">&times;</button>

        </div>
        <div class="container payment" >
           <input type="text" class="form-control" name="fullname" placeholder="Fullname">
          <input type="text" class="form-control" name="phoneno" placeholder="Phone number">
          <input type="text" class="form-control" name="tno" placeholder="transaction number">
        </div>
        <div class="modal-footer">
          <input type="button" id="pay" class="btn btn-success epay" value="Ok" />
        </div>
      </div>

    </form>
  </div>
</div>